@model BudgetCalculator.Models.BudgetModel

@{
    ViewBag.Title = "Budget Calculator";
}

<h2>Budget Calculator</h2>

@using (Html.BeginForm("Calculate", "Budget", FormMethod.Post))
{
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })

    <div>
        <label for="Z">Total Approved Budget (Z):</label>
        @Html.TextBoxFor(m => m.Z, new { @class = "form-control", id = "Z" })
        @Html.ValidationMessageFor(m => m.Z, "", new { @class = "text-danger" })
    </div>
    <div>
        <label for="Y1">Agency Fee Percentage (Y1):</label>
        @Html.TextBoxFor(m => m.Y1, new { @class = "form-control", id = "Y1" })
        @Html.ValidationMessageFor(m => m.Y1, "", new { @class = "text-danger" })
    </div>
    <div>
        <label for="Y2">Third-party Tool Fee Percentage (Y2):</label>
        @Html.TextBoxFor(m => m.Y2, new { @class = "form-control", id = "Y2" })
        @Html.ValidationMessageFor(m => m.Y2, "", new { @class = "text-danger" })
    </div>
    <div>
        <label for="Hours">Fixed Cost for Agency Hours:</label>
        @Html.TextBoxFor(m => m.Hours, new { @class = "form-control", id = "Hours" })
        @Html.ValidationMessageFor(m => m.Hours, "", new { @class = "text-danger" })
    </div>
    <div>
        <label for="OtherAdsBudget">Budget for Other Ads (X1 + X2 + ...):</label>
        @Html.TextBoxFor(m => m.OtherAdsBudget, new { @class = "form-control", id = "OtherAdsBudget" })
        @Html.ValidationMessageFor(m => m.OtherAdsBudget, "", new { @class = "text-danger" })
    </div>
    <div style="margin-top: 5px;">
        <input type="submit" value="Calculate Maximum Ad Budget" class="btn btn-primary" />
    </div>
}

@if (ViewBag.MaxAdBudget != null)
{
    <h3>The maximum budget for the specific ad is: @ViewBag.MaxAdBudget</h3>
}

<h3>Test Cases</h3>

<p>Click on a test case to populate the form:</p>

<ul>
    <li>
        <button type="button" onclick="populateTestCase(10000, 10, 5, 500, 3000)">
            Test Case 1: Z = 10000, Y1 = 10%, Y2 = 5%, Hours = 500, OtherAdsBudget = 3000
        </button>
    </li>
    <li>
        <button type="button" onclick="populateTestCase(15000, 15, 7, 800, 4000)">
            Test Case 2: Z = 15000, Y1 = 15%, Y2 = 7%, Hours = 800, OtherAdsBudget = 4000
        </button>
    </li>
    <li>
        <button type="button" onclick="populateTestCase(20000, 12, 6, 1000, 5000)">
            Test Case 3: Z = 20000, Y1 = 12%, Y2 = 6%, Hours = 1000, OtherAdsBudget = 5000
        </button>
    </li>
</ul>

@section Scripts {
    <script type="text/javascript">function populateTestCase(z, y1, y2, hours, otherAdsBudget) {
            document.getElementById("Z").value = z;
            document.getElementById("Y1").value = y1;
            document.getElementById("Y2").value = y2;
            document.getElementById("Hours").value = hours;
            document.getElementById("OtherAdsBudget").value = otherAdsBudget;
        }</script>
}
